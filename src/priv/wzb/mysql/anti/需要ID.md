# 需要ID

> 外面的生物从猪看到人，从人看到猪，再从猪看到人，但他们已经分辨不出谁是猪，谁是人了。

问题：如何组织表中出现重复项。

存储网站上发表的文件，使用交叉表存储文章和标签的多对多关系

使用中间表带来的问题：底层数据出错

如果对ID外的两个外键做唯一约束，那ID就毫无意义

## 目标：建立主键规范

主键很重要，甚至必要。唯一性的保障。同时起到外键的作用

难点是选择哪一列作为主键

## 反模式：以不变应万变

三个特性：

- 列名叫作id
- 数据类型是32位或64位整形
- 主键的值是自动来生成确保唯一

给每张增加一列id，使其使用显得过于随意

### 冗余键值

定义ID可能只是一个习惯。

### 意义不明的关键字

id太普通，无法在语义上体现特点

### 使用USING关键字



### 使用组合键之难

太难用

## 如何识别

- 我觉得这表不需要主键
- 我怎么在对多多表中存储重复项
- 应该把数据移到一张查询标通过ID查找

## 合理使用

框架通常假设惯例优于配置

对于太长/不方便实现的自然见，伪主键是很好的替代品。

## 解决方案：裁剪设计

主键是约束而非数据类型。可以定义任意多列未主键。

一个主键在数据库中唯一

**规范仅仅在它有帮助时才是好的。**