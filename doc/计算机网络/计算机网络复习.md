# 计算机网络复习

## 带宽和吞吐量

1. **带宽（bandwidth）** ：在计算机网络中，表示在单位时间内从网络中的某一点到另一点所能通过的“最高数据率”。常用来表示网络的通信线路所能传送数据的能力。单位是“比特每秒”，记为 b/s。
2. **吞吐量（throughput ）** ：表示在单位时间内通过某个网络（或信道、接口）的数据量。吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。吞吐量受网络的带宽或网络的额定速率的限制。
3. 区别在于带宽是速率的理论上限，吞吐量是网络实际情况的测量

## OSI 与 TCP/IP 各层的结构与功能,都有哪些协议

![](https://camo.githubusercontent.com/a24a29536633ebdf6e9326554d357c2b8acfae62026222573eb6cefd653bc5a3/68747470733a2f2f6d792d626c6f672d746f2d7573652e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f323031392f372f2545342542412539342545352542312538322545342542442539332545372542332542422545372542422539332545362539452538342e706e67)

- 应用层
  - 传输报文完成特定网络应用
  - DNS HTTP SMTP
- 传输层
  - 多主机进程数据传输 分用和复用
    - 复用多进程共享运输层服务
    - 分用传输层将消息分发给不同应用
  - TCP/UDP
- 网络层
  - 路由选择 传输数据报
  - 无论是哪一层的数据单元，都可笼统地用“分组”来表示。
  - 网际协议和路由解析协议，多个异构网络通过路由器构成的互联网
- 数据链路层
  - IP数据包封装为帧加上控制信息，同步、地址、差错
- 物理层

## 在浏览器中输入 url 地址 ->> 显示主页的过程

- 应用层 DNS协议找到url对应IP地址
  - DNS缓存包含那浏览器、系统、路由器、ISP、根域名服务器、顶级域名服务器、主域名服务器
- 传输层， 通过TCP建立连接
  - HTTPS协议就是通过在HTTP和TCP之间加上一层SSL来确保数据传输安全性
- 客户端发送HTTP/https请求给对应服务器
- 服务器根据域名找到对应应用，请求转发给服务器上的应用
- 应用处理请求并返回响应
- 浏览器根据响应渲染页面展示结果

## UDP为什么快

- 不需要提前建立连接
- 不需要确保数据完整
- 直接发送，支持多播
- 数据可能不完整
- 适用于即时通信场景 直播 语音等
- 

## TCP 协议如何保证可靠传输

- 数据被合适分隔
- 编号后发送，接收方根据编号排序后给应用层
- 首部校验和，避免端到端传输中间被变更（主要是丢失，根https的不同，TCP仍然可被篡改 同时篡改校验和即可
- 丢弃重复数据
- 流量控制 接收端有自己缓冲区，发送方发送速率高于缓冲区处理则降低发送效率，通过滑动窗口实现
- 拥塞控制：与流量控制类似，当网络拥塞减少数据发送
- ARQ协议：确保数据完整，发完一个等待响应确认收到再发下一个
- 超时重传：发送报文段后开启计时 超时重传

###  ARQ 协议

> **自动重传请求**（Automatic Repeat-reQuest，ARQ）是 OSI 模型中数据链路层和传输层的错误纠正协议之一。它通过使用确认和超时这两个机制，在不可靠服务的基础上实现可靠的信息传输。如果发送方在发送后一段时间之内没有收到确认帧，它通常会重新发送。ARQ 包括停止等待 ARQ 协议和连续 ARQ 协议。

#### 停止等待 ARQ 协议

- 发送后等待响应，没接收响应则超时重传
- 若收到两份则根据分割编号丢弃一份
- 

**优缺点：**

- **优点：** 简单
- **缺点：** 信道利用率低，等待时间长

**连续 ARQ 协议** 可提高信道利用率。发送维持一个发送窗口，凡位于发送窗口内的分组可连续发送出去，而不需要等待对方确认。接收方一般采用累积确认，对按序到达的最后一个分组发送确认，表明到这个分组位置的所有分组都已经正确收到了。

- 连续ARQ的优化在于单个确认改为了 等待一批数据后批量确认

### 滑动窗口和流量控制

