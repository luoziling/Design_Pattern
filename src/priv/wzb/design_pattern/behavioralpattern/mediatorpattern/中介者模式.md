# 中介者模式

## 简介

定义一个中间类来协调其他业务对象之间互相调用的复杂关系，类似星型拓扑结构

> Define an object that encapsulates how a set of objects interact.Mediator promotes loose coupling by keeping objects from referring to each other explicitly,ant it lets you vary their interaction independently.
>
> 用一个中介对象封装一系列的对象交互，中介者使各对象不需要显示地相互作用，从而使其耦合松散，而且可以独立的改变他们之间的交互。

组成

- Mediator

  抽象中介者角色，同一接口，主要是一个execute(String,Obejct... objects) 方法用户解耦多个对象之间互相调用产生的耦合，内部会维护不同对象的依赖

- Colleague

  同事角色，对中介操作。行为（方法）分为两种：Self-Method/Dep-Method 自发/依赖

  自发只对自身状态产生影响，处理自身行为，（可以不依赖

  依赖则必须依赖中介者才能完成

- ConcreteMediator



## 优劣

### 优势

- 减少类间依赖
- 一对多改为一对一，Colleague只依赖Mediator而不会理会其他对象，减少依赖，降低耦合

### 劣势

- 中介者随着对象依赖的增加而膨胀，逻辑复杂
- 同事类越多，中间者就越复杂



## 场景

例如商品采购库存，三者相互影响

- 类之间相互依赖，一个类依赖多个类
- 只有类之间出现了多对多依赖且复杂构成网状的时候使用才合适，否则过度设计导致代码复杂度提高得不偿失



**实际场景**

- 机场调度系统

- MVC框架

  C 就是一个中介，解耦M和V

- 媒体网关

  

- 